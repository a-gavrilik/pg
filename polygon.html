<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Polygon</title>

<script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU"></script>

<style>
html, body, #map {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
}
</style>
</head>

<body>
<div id="map"></div>

<script>
function getCoords() {
  const params = new URLSearchParams(window.location.search);
  const raw = params.get("coords");
  if (!raw) return null;

  try {
    return JSON.parse(decodeURIComponent(raw));
  } catch (e) {
    console.error("Coords parse error", e);
    return null;
  }
}

ymaps.ready(function () {
  const coords = getCoords();

  const map = new ymaps.Map("map", {
    center: [55.75, 37.61],
    zoom: 9
  });

  if (!coords) {
    console.warn("No coords provided");
    return;
  }

const polygon = new ymaps.Polygon([coords], {}, {
  fillColor: "#474A5155",
  strokeColor: "#474A51",
  strokeWidth: 2
});

  map.geoObjects.add(polygon);
  map.setBounds(polygon.geometry.getBounds(), { checkZoomRange: true });
});
</script>

</body>
</html>
